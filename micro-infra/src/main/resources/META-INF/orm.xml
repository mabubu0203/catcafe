<?xml version="1.0" encoding="UTF-8"?>
<entity-mappings xmlns="http://xmlns.jcp.org/xml/ns/persistence/orm"
                 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                 xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/persistence/orm
                 http://xmlns.jcp.org/xml/ns/persistence/orm_2_2.xsd"
                 version="2.2">

    <named-native-query name="cast_cat_list" result-set-mapping="CastCatProjection">
        <query>
            <![CDATA[
            SELECT
                cast.id AS cast_id,
                cast.store_id AS store_id,
                cast_cat.id AS cast_cat_id,
                cast_cat.name AS cast_cat_name
            FROM
                cast cast
                INNER JOIN cast_cat cast_cat
                  ON cast.cast_cat_id = cast_cat.id AND cast_cat.deleted_flag = 0
            WHERE
                cast.deleted_flag;
            ]]>
        </query>
    </named-native-query>

    <sql-result-set-mapping name="CastCatProjection">
        <constructor-result
                target-class="mabubu0203.com.github.catcafe.infra.source.jpa.entity.projection.CastCatProjection">
            <column name="cast_id" class="java.lang.Integer" />
            <column name="store_id" class="java.lang.Integer" />
            <column name="cast_cat_id" class="java.lang.Integer" />
            <column name="cast_cat_name" class="java.lang.String" />
        </constructor-result>
    </sql-result-set-mapping>

</entity-mappings>
